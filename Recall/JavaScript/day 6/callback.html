<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Callback</title>
</head>

<body>
    <script>

//1️ setTimeout Callback – Print Message


        setTimeout(function () {
            console.log("Hello! This message is printed after 2 seconds.");
        }, 2000);


//2️ Callback - Based Calculator


        function calculator(a, b, operation) {
            operation(a, b);
        }

        function add(x, y) {
            console.log("Addition:", x + y);
        }

        function multiply(x, y) {
            console.log("Multiplication:", x * y);
        }

        calculator(10, 5, add);
        calculator(10, 5, multiply);


//3️ Nested Callback Example(Callback Hell)


        setTimeout(function () {
            console.log("Step 1 completed");

            setTimeout(function () {
                console.log("Step 2 completed");

                setTimeout(function () {
                    console.log("Step 3 completed");
                }, 1000);

            }, 1000);

        }, 1000);


//4️ Callback Error Handling


        function divide(a, b, callback) {
            if (b === 0) {
                callback("Error: Division by zero", null);
            } else {
                callback(null, a / b);
            }
        }

        divide(10, 2, function (error, result) {
            if (error) {
                console.log(error);
            } else {
                console.log("Result:", result);
            }
        });

        divide(10, 0, function (error, result) {
            if (error) {
                console.log(error);
            } else {
                console.log("Result:", result);
            }
        });


//5️ Simulate API Call Using Callback


        function fetchUserData(callback) {
            setTimeout(function () {
                let success = true;

                if (success) {
                    callback(null, { id: 1, name: "Karthikeyan" });
                } else {
                    callback("Failed to fetch data", null);
                }
            }, 2000);
        }

        fetchUserData(function (error, data) {
            if (error) {
                console.log(error);
            } else {
                console.log("User Data:", data);
            }
        });
    </script>
</body>
</html>